@page "/"
@using Microsoft.Maui.Storage
@using System.Web


<div class="container-fluid my-3">
    <form class="d-flex" action="/Search" method="get" onsubmit="return encodeSearchTerm()">
        <input class="form-control rounded-pill primary-color p-3" id="floatingSearch" placeholder="@TransliterationService.GetDisplayText("Излаш")" aria-label="Излаш" name="KeyWord">
        <button class="btn rounded-pill p-0 fw-bold primary-color" style="font-size: 36px; margin-left: -66px;" type="submit"><img src="search.png" width="48" height="48" class="mx-2" alt="search" /></button>
    </form>

    <div class="card my-3 rounded-pill card-bg-color">
        <div class="card-body d-flex justify-content-around align-items-center text-white py-2">
            @{
                var bookmark = Preferences.Get("Bookmark", "49:11");
                if (!string.IsNullOrEmpty(bookmark))
                {
                    var parts = bookmark.Split(':');
                    var suraId = parts[0];
                    var ayaId = parts[1];
                    <img src="bookmark_added_white.png" width="48" height="48" class="mx-2" alt="bookmark" />
                    <span class="fw-bold fs-4">@suraId. @TransliterationService.GetDisplayText("сура"), @ayaId. @TransliterationService.GetDisplayText("оят")</span>
                    <a href="AyaList?SuraId=@suraId#@ayaId" class="btn btn-light align-self-center ms-auto rounded-pill fw-bold">@TransliterationService.GetDisplayText("Ўқишни давом эттиринг")</a>
                }
                else
                {
                    <a href="#" class="btn btn-light disabled ms-auto rounded-pill fw-bold">@TransliterationService.GetDisplayText("Ўқишни давом эттиринг")</a>
                }
            }
        </div>
    </div>

    <div class="card my-3 rounded-pill">
        <div class="card-body">
            <a href="Suras" class="text-black">
                <div class="row">
                    <div class="col d-flex align-self-center justify-content-center">
                        <img src="quran.png" alt="Quran" width="150" height="100" />
                    </div>
                    <div class="col d-flex align-self-center justify-content-center fw-bold fs-2">
                        @TransliterationService.GetDisplayText("Суралар")
                    </div>
                </div>
            </a>
        </div>
    </div>

    <div class="row my-3 text-center">
        <div class="col d-flex flex-column">
            <div class="card flex-fill align-items-center justify-content-center rounded-pill">
                <a href="notes" class="card-text text-black fw-bold">
                    <div class="card-body" style="min-height: 180px;">
                        <div class="text-center"><img src="note_alt.png" alt="notes" width="72" height="72" /></div>
                        @TransliterationService.GetDisplayText("Қайдларингиз")
                    </div>
                </a>
            </div>
        </div>
        <div class="col d-flex flex-column">
            <div class="card flex-fill align-items-center justify-content-center rounded-pill">
                <a href="favorites" class="card-text text-black fw-bold">
                    <div class="card-body" style="min-height: 180px;">
                        <div class="text-center"><img src="heart_check.png" alt="target" width="72" height="72" /></div>
                        @TransliterationService.GetDisplayText("Сиз белгилаган оятлар")
                    </div>
                </a>
            </div>
        </div>
    </div>

    <div class="card my-3 rounded-pill">
        <div class="card-body">
            <div class="d-flex justify-content-evenly">
                <a href="https://www.facebook.com/groups/178024384287085/?ref=share&mibextid=SDPelY"><img src="facebook.svg" width="48" height="48" class="mx-2" alt="facebook" /></a>
                @* <a href=""><img src="instagram.svg" width="32px" height="32px" class="mx-2" alt="instagram" /></a> *@
                <a href="https://t.me/Quron_izidan"><img src="telegram.svg" width="48" height="48" class="mx-2" alt="telegram" /></a>
            </div>
        </div>
    </div>

</div>
@code {
    private string EncodeSearchTerm(string term)
    {
        return HttpUtility.UrlEncode(term);
    }
}
<script>
    function encodeSearchTerm() {
        var input = document.getElementById('floatingSearch');
        input.value = encodeURIComponent(input.value).replace(/\./g, '%2E');
        return true;
    }
</script>
